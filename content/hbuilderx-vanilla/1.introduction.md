---
title: 项目介绍
description: 优雅地在Linux环境下构建uni-app项目的wgt热更新包
icon: carbon:package

navTruncate: false

badges:
  - value: docker
    icon: simple-icons:docker
    to: https://hub.docker.com/r/flymyd114/hbuilderx-vanilla
    target: _blank
  - value: source
    icon: lucide:code
    to: https://github.com/uni-helper/hbuilderx-vanilla
    target: _blank
---

*Entities should not be multiplied unnecessarily.  —— William of Occam*

HBuilderX Vanilla 提供了一个小巧的容器环境以及一套对外暴露的api，用来构建Uniapp-Vite-Vue 3项目的wgt热更新包。

## 特性

::card-group

::card
---
icon: i-simple-icons:docker
title: 容器化部署
---
基于Docker的轻量级容器环境，开箱即用
::

::card
---
icon: i-lucide:zap
title: 简单易用
---
提供简洁的REST API接口，一键构建
::

::card
---
icon: i-carbon:package
title: 热更新支持
---
专门用于构建wgt热更新包，支持增量更新
::

::card
---
icon: i-lucide:settings
title: 版本灵活
---
支持Vue2和Vue3项目，适配多种场景
::

::

## 快速开始

### 容器启动

```bash
docker run -d --restart=always -v <projects_folder>:/projects -p 13300:3000 --name hbuilder-vanilla flymyd114/hbuilderx-vanilla:latest
```

::alert{type="info"}
**参数说明：**
- `<projects_folder>`是本机的待打包工程父目录，你的所有工程均应处于该目录下，如`/Users/myd/projects`下有`hello-uniapp`文件夹
- `13300`为建议的API端口映射点
::

### 初始化依赖

容器首次启动后，执行如下命令以初始化依赖：

```bash
docker exec -it hbuilder-vanilla sh -c "chmod +x /root/core-install.sh && /root/core-install.sh"
```

访问`http://127.0.0.1:13300`以检查API服务是否正确启动。

### 打包示例

```bash
curl --location 'http://127.0.0.1:13300/build?project=crp-app&vueVersion=3'
```

::alert{type="success"}
**接口参数：**
- `project`: 项目文件夹名
- `vueVersion`: uniapp项目Vue版本（2或3）

产物将会在`/projects/crp-app/wgt-dist`中生成。
::

## 使用场景

### CI/CD 集成

在持续集成环境中使用 HBuilderX Vanilla 可以实现自动化的wgt包构建：

```yaml
# GitHub Actions 示例
steps:
  - name: Start HBuilderX Vanilla
    run: |
      docker run -d --name hbuilderx-vanilla \
        -v ${{ github.workspace }}:/projects \
        -p 13300:3000 \
        flymyd114/hbuilderx-vanilla:latest

  - name: Initialize dependencies (first run only)
    run: |
      docker exec hbuilderx-vanilla sh -c "chmod +x /root/core-install.sh && /root/core-install.sh"

  - name: Build wgt package
    run: |
      curl -fS "http://localhost:13300/build?project=my-app&vueVersion=3"

  - name: Stop container
    if: always()
    run: docker rm -f hbuilderx-vanilla

### 本地开发

对于需要频繁构建wgt包的开发场景，可以保持容器运行状态：

```bash
# 启动容器
docker run -d --name hbuilder-vanilla -p 13300:3000 -v /path/to/projects:/projects flymyd114/hbuilderx-vanilla:latest

# 构建项目
curl "http://localhost:13300/build?project=my-project"
```

## 注意事项

::alert{type="warning"}
**重要提醒：**
- 确保Docker环境已正确安装
- 项目目录需要正确挂载到容器内的`/projects`目录
- 首次使用需要执行初始化脚本
- 自行构建时需要先在本机HBuilderX中完成相关插件的安装
::