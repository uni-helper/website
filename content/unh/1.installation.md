---
title: unh 安装
description: 二次封装的启动命令，支持平台别名和自动生成配置
navTruncate: false
icon: lucide:mouse-pointer-click

badges:
  - value: npm
    to: https://www.npmjs.com/package/@uni-helper/unh
    target: _blank
  - value: source
    icon: lucide:code
    to: https://github.com/uni-helper/unh
    target: _blank
---

## 安装
:pm-install{name="@uni-helper/unh"}

## 为什么需要 `@uni-helper/unh`

`@uni-helper/unh` 是对 uni-app 启动命令的二次封装，旨在解决开发过程中的特定问题。在标准的 uni-app 工作流中，启动命令会使用 `fs` 模块检查 `pages.json` 和 `manifest.json` 文件是否存在，若缺少这些文件将导致命令中断。

当使用 [vite-plugin-uni-pages](/vite-plugin-uni-pages) 和 [vite-plugin-uni-manifest](/vite-plugin-uni-manifest) 等插件时，这些配置文件通常在构建过程中动态生成，而非预先存在。这种时序差异会导致启动命令失败，因为文件检查发生在文件生成之前。

`@uni-helper/unh` 通过引入自动生成配置机制，在执行实际启动命令前预先生成必要的配置文件，确保了开发流程的顺畅性。这种设计不仅解决了文件依赖问题，还为开发者提供了在项目启动前后执行自定义逻辑的灵活性（通过[自定义Hooks](/unh/3.hooks)）。

`@uni-helper/unh` 还提供了[平台别名](/unh/2.alias)功能，允许开发者在 `unh.config.ts` 中为不同平台配置简短别名。这一特性不仅简化了命令行操作，也优化了 `package.json` 中 `scripts` 部分的配置，提升了开发效率和项目可维护性。

::alert{}
  `@uni-helper/unh` 的开发还在继续，未来有着无限的可能。

	在未来的版本中，我们将继续完善 `@uni-helper/unh` 的功能，添加更多的配置选项和优化性能,包括但不限于：
	1. `unh update` 命令将帮助您升级到最新版本。
	2. `unh deploy` 命令将帮助您部署项目到指定平台。
	欢迎参与贡献。
::

## 使用

更新 `package.json`
```json [package.json]
{
  "scripts": {
    "dev": "unh dev",
    "build": "unh build",
    "prepare": "unh prepare"
  }
}
```

配置 `unh.config.ts`
```ts [unh.config.ts]
import { defineConfig } from '@uni-helper/unh'

export default defineConfig({
  // 平台配置
  platform: {
    // 默认平台，当不指定平台时使用此平台
    default: 'h5',
    // 平台别名，可以使用短名称代替完整平台名称
    alias: {
      'h5': ['w', 'h'],
      'mp-weixin': ['wx'],
    },
  },
})
```

调用
:pm-run{script="dev wx"}

## 获取帮助

执行以下命令可以查看所有可用的命令和选项：

```bash [terminal]
unh -h
```
